# Format an output file for input into Pogo to make Genome Browser tracks
# Restructure the dataframe for input into Pogo
# Outputs are named first by TMT or TOM, their ID number, WTC11, then unfrac or 8frac
setwd("/Volumes/sheynkman/projects/zhang_mouse_aging")
# pq31153
library(readr)
library(dplyr)
library(stringr)
# all
all_df <- read_csv("00_2024-05-29_Tian_Aging_Mouse_SpliceProt/output/07_filtered_co_expressed_isoforms/filtered_co_expressed_isoforms.csv")
restructured_pogo_df <- all_df %>%
mutate( #mutate just allows us to modify and add columns!
Experiment = "all", #create column called "Experiment" that is filled with the experiment type
PSMs = 1, #create column called "PSMs" and fill with 1
Quant = 1 #create column called "Quant" and fill with 1
) %>%
select(Experiment, Distinct_Peptide = pep_seq, PSMs, Quant) #the dataframe we're creating will only have these columns
file_path <- "all_peptide_POGO.txt"
write.table(restructured_pogo_df, file = file_path, sep = "\t", quote = FALSE, row.names = FALSE)
